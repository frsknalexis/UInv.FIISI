<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/headinc :: head"></head>
<body>

	<!-- preloader area start -->
	<div id="preloader">
		<div class="loader"></div>
	</div>
	
	<!-- page container area start -->
	<div class="page-container">

		<div th:replace="fragments/sidebar :: sidebar"></div>

		<!-- main content area start -->
		<div class="main-content">

			<div th:replace="fragments/header-area :: header-area"></div>

			<!-- page title area start -->
			<div class="page-title-area">
				<div class="row align-items-center">
					<div class="col-sm-6">
						<div class="breadcrumbs-area clearfix">
							<h4 class="page-title pull-left">Dashboard</h4>
							<ul class="breadcrumbs pull-left">
								<li><a th:href="@{/}">Home</a></li>
								<li><span>Proyecto Investigacion</span></li>
							</ul>
						</div>
					</div>
					
					<div th:replace="fragments/user-profile :: user-profile"></div>
					
				</div>
			</div>
			<!-- page title area end -->
			<div class="main-content-inner">
				<div class="row">
					<div class="col-sm-12 mt-5">
						<div class="card">
							<div class="card-body">
								<h4 class="header-title text-center" th:text="${asignacionDocente.asignacion.nombreInvestigacion}"></h4>
								<p class="card-text">Responsable (s):</p>
								<table class="table text-center table-hover table-striped" width="100%" th:if="${not #lists.isEmpty(asignacionDocentes)}">
									<thead class="bg-primary text-capitalize">
										<tr>
											<th>Investigador</th>
											<th>Facultad</th>
											<th>Condicion</th>
											<th>Informe Trimestral</th>
											<th>Acciones</th>
										</tr>
									</thead>
									<tbody>
									<tr th:each="asignacionDocente : ${asignacionDocentes}">
										<td th:text="${asignacionDocente.investigador}"></td>
										<td th:text="${asignacionDocente.facultad.abreviaturaFacultad}"></td>
										<td th:text="${asignacionDocente.condicion.nombreCondicion}"></td>
										<td>
											<a th:href="@{/informeTrimestral/formInformeTrimestral/} + ${asignacionDocente.asignacionDetalleId}" class="btn btn-outline-primary btn-xs"><i class="fa fa-plus-circle"></i> Adjuntar Informe Trimestral</a>
										</td>
										<td>
											<div class="btn-group" role="group" aria-label="Basic example">
												<a th:href="@{/asignacionDocente/formAsignacionDetalle/} + ${asignacionDocente.asignacion.asignacionId} + '/' + ${asignacionDocente.asignacionDetalleId}" th:if="${asignacionDocente.habilitado == true}" class="btn btn-outline-primary btn-xs"><i class="fa fa-pencil" title="Editar"></i></a>
											</div>
										</td>
									</tr>
									</tbody>
								</table>
								
								<div class="alert-items" th:if="${#lists.isEmpty(asignacionDocentes)}">
									<div class="alert alert-primary my-2" role="alert" >
									Aun no hay Investigadores Asignados al Proyecto de Investigacion: <strong th:text="${asignacionDocente.asignacion.nombreInvestigacion}"></strong> 
									</div>	
								</div>
								
								<p class="card-text">Informe (s) Trimestral (es):</p>
								<table class="table text-center table-hover table-striped" width="100%">
									<thead class="bg-primary text-capitalize">
										<tr>
											<th>Encargado</th>
											<th>Descripcion</th>
											<th>Trimestre</th>
											<th>Fichero</th>
											<th>Acciones</th>
										</tr>
									</thead>
									<tbody>
									</tbody>
								</table>
							</div>
						</div>
					</div>
					<div class="col-sm-12 mt-5">
						<div class="card">
							<div class="card-body">
								<h4 class="header-title" th:text="${titulo}"></h4>
								<form th:action="@{/asignacionDocente/formAsignacionDetalle}" th:object="${asignacionDocente}"  
								novalidate="" class="needs-validation" method="post">
									<div class="form-row">
										<div class="col-md-12 mb-3">
											<div class="input-group">
												<input type="hidden" class="form-control" id="asignacionDocente-id"
												th:field="*{asignacionDetalleId}" required=""/>
											</div>
										</div>
									</div>
									<div class="form-row">
										<div class="col-md-12 mb-3">
											<div class="input-group">
												<div class="input-group-prepend">
													<span class="input-group-text" id="inputGroupNombreInvestigacion"><i
														class="fa fa-book"></i></span>
												</div>
												<input type="text" class="form-control" placeholder="Nombre Investigacion"
													id="nombreInvestigacionAsignado" aria-describedby="inputGroupNombreInvestigacion" 
													 disabled="disabled"  th:value="${asignacionDocente.asignacion.nombreInvestigacion}" />
											</div>
										</div>
									</div>
									<div class="form-row">
										<div class="col-md-12 mb-3">
											<label for="docenteAsignacion">Investigador: </label>
											<div class="input-group">
												<div class="input-group-prepend">
													<span class="input-group-text"
														id="inputGroupDocenteAsignacion"><i
														class="fa fa-user"></i></span>
												</div>
												<input type="text" class="form-control" name="docenteAsignacion" required="" id="docenteAsignacion"
												aria-describedby="inputGroupDocenteAsignacion" th:field="*{investigador}"/>
											</div>
										</div>
									</div>
									<div class="form-row">
										<div class="col-md-6 mb-3">
											<label for="facultadAsignacion">Facultad: </label>
											<div class="input-group">
												<div class="input-group-prepend">
													<span class="input-group-text"
													id="inputGroupFacultadAsignacion">
													<i class="fa fa-bookmark"></i></span>
												</div>
												<select th:field="*{facultad.facultadId}" id="facultadAsignacion" class="form-control">
													<option value="">Seleccione una Facultad</option>
													<option th:each="facultad : ${facultades}" th:value="${facultad.facultadId}"
													th:text="${facultad.abreviaturaFacultad}"/>
												</select>
											</div>
										</div>
										<div class="col-md-6 mb-3">
											<label for="condicionDocenteAsignacion">Condicion: </label>
											<div class="input-group">
												<div class="input-group-prepend">
													<span class="input-group-text"
														id="inputGroupCondicionDocenteAsignacion"><i
														class="fa fa-suitcase"></i></span>
												</div>
												<select th:field="*{condicion.condicionId}" id="condicionDocenteAsignacion" class="form-control">
													<option value="">Seleccione una Condicion</option>
													<option th:each="condicion : ${condiciones}" th:value="${condicion.condicionId}"
													 	th:text="${condicion.nombreCondicion}"/>
												</select>
											</div>	
										</div>
									</div>
									<button class="btn btn-outline-primary btn-sm" type="submit">
										<i class="fa fa-check-circle"></i> Guardar Asignacion
									</button>
									<a class="btn btn-outline-danger btn-sm"
										th:href="@{/asignacion/list}"><i
										class="fa fa-arrow-circle-o-left"></i> Cancelar</a>
								</form>
							</div>
						</div>
					</div>	
				</div>
			</div>
		</div>
		<!-- main content area end -->
		<footer th:replace="fragments/footer :: footer"></footer>

	</div>
	<!-- page container area end -->

	<th:block th:replace="fragments/script"></th:block>

</body>
</html>